import{i as e,n as t,t as n}from"./picocolors-DQPB0Sb5.mjs";import r,{stdin as i,stdout as a}from"node:process";import*as o from"node:readline";import s from"node:readline";import{ReadStream as c}from"node:tty";import{existsSync as l,lstatSync as u,readdirSync as d}from"node:fs";import{dirname as f,join as p}from"node:path";import{stripVTControlCharacters as m}from"node:util";var h=t(((e,t)=>{let n={to(e,t){return t?`[${t+1};${e+1}H`:`[${e+1}G`},move(e,t){let n=``;return e<0?n+=`[${-e}D`:e>0&&(n+=`[${e}C`),t<0?n+=`[${-t}A`:t>0&&(n+=`[${t}B`),n},up:(e=1)=>`[${e}A`,down:(e=1)=>`[${e}B`,forward:(e=1)=>`[${e}C`,backward:(e=1)=>`[${e}D`,nextLine:(e=1)=>`\x1B[E`.repeat(e),prevLine:(e=1)=>`\x1B[F`.repeat(e),left:`\x1B[G`,hide:`\x1B[?25l`,show:`\x1B[?25h`,save:`\x1B7`,restore:`\x1B8`};t.exports={cursor:n,scroll:{up:(e=1)=>`\x1B[S`.repeat(e),down:(e=1)=>`\x1B[T`.repeat(e)},erase:{screen:`\x1B[2J`,up:(e=1)=>`\x1B[1J`.repeat(e),down:(e=1)=>`\x1B[J`.repeat(e),line:`\x1B[2K`,lineEnd:`\x1B[K`,lineStart:`\x1B[1K`,lines(e){let t=``;for(let r=0;r<e;r++)t+=this.line+(r<e-1?n.up():``);return e&&(t+=n.left),t}},beep:`\x07`}})),g=e(n(),1),_=h();const v=e=>e===161||e===164||e===167||e===168||e===170||e===173||e===174||e>=176&&e<=180||e>=182&&e<=186||e>=188&&e<=191||e===198||e===208||e===215||e===216||e>=222&&e<=225||e===230||e>=232&&e<=234||e===236||e===237||e===240||e===242||e===243||e>=247&&e<=250||e===252||e===254||e===257||e===273||e===275||e===283||e===294||e===295||e===299||e>=305&&e<=307||e===312||e>=319&&e<=322||e===324||e>=328&&e<=331||e===333||e===338||e===339||e===358||e===359||e===363||e===462||e===464||e===466||e===468||e===470||e===472||e===474||e===476||e===593||e===609||e===708||e===711||e>=713&&e<=715||e===717||e===720||e>=728&&e<=731||e===733||e===735||e>=768&&e<=879||e>=913&&e<=929||e>=931&&e<=937||e>=945&&e<=961||e>=963&&e<=969||e===1025||e>=1040&&e<=1103||e===1105||e===8208||e>=8211&&e<=8214||e===8216||e===8217||e===8220||e===8221||e>=8224&&e<=8226||e>=8228&&e<=8231||e===8240||e===8242||e===8243||e===8245||e===8251||e===8254||e===8308||e===8319||e>=8321&&e<=8324||e===8364||e===8451||e===8453||e===8457||e===8467||e===8470||e===8481||e===8482||e===8486||e===8491||e===8531||e===8532||e>=8539&&e<=8542||e>=8544&&e<=8555||e>=8560&&e<=8569||e===8585||e>=8592&&e<=8601||e===8632||e===8633||e===8658||e===8660||e===8679||e===8704||e===8706||e===8707||e===8711||e===8712||e===8715||e===8719||e===8721||e===8725||e===8730||e>=8733&&e<=8736||e===8739||e===8741||e>=8743&&e<=8748||e===8750||e>=8756&&e<=8759||e===8764||e===8765||e===8776||e===8780||e===8786||e===8800||e===8801||e>=8804&&e<=8807||e===8810||e===8811||e===8814||e===8815||e===8834||e===8835||e===8838||e===8839||e===8853||e===8857||e===8869||e===8895||e===8978||e>=9312&&e<=9449||e>=9451&&e<=9547||e>=9552&&e<=9587||e>=9600&&e<=9615||e>=9618&&e<=9621||e===9632||e===9633||e>=9635&&e<=9641||e===9650||e===9651||e===9654||e===9655||e===9660||e===9661||e===9664||e===9665||e>=9670&&e<=9672||e===9675||e>=9678&&e<=9681||e>=9698&&e<=9701||e===9711||e===9733||e===9734||e===9737||e===9742||e===9743||e===9756||e===9758||e===9792||e===9794||e===9824||e===9825||e>=9827&&e<=9829||e>=9831&&e<=9834||e===9836||e===9837||e===9839||e===9886||e===9887||e===9919||e>=9926&&e<=9933||e>=9935&&e<=9939||e>=9941&&e<=9953||e===9955||e===9960||e===9961||e>=9963&&e<=9969||e===9972||e>=9974&&e<=9977||e===9979||e===9980||e===9982||e===9983||e===10045||e>=10102&&e<=10111||e>=11094&&e<=11097||e>=12872&&e<=12879||e>=57344&&e<=63743||e>=65024&&e<=65039||e===65533||e>=127232&&e<=127242||e>=127248&&e<=127277||e>=127280&&e<=127337||e>=127344&&e<=127373||e===127375||e===127376||e>=127387&&e<=127404||e>=917760&&e<=917999||e>=983040&&e<=1048573||e>=1048576&&e<=1114109,y=e=>e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510,b=e=>e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9800&&e<=9811||e===9855||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12771||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e===94192||e===94193||e>=94208&&e<=100343||e>=100352&&e<=101589||e>=101632&&e<=101640||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128727||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129672||e>=129680&&e<=129725||e>=129727&&e<=129733||e>=129742&&e<=129755||e>=129760&&e<=129768||e>=129776&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141,x=/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/y,S=/[\x00-\x08\x0A-\x1F\x7F-\x9F]{1,1000}/y,C=/\t{1,1000}/y,w=/[\u{1F1E6}-\u{1F1FF}]{2}|\u{1F3F4}[\u{E0061}-\u{E007A}]{2}[\u{E0030}-\u{E0039}\u{E0061}-\u{E007A}]{1,3}\u{E007F}|(?:\p{Emoji}\uFE0F\u20E3?|\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation})(?:\u200D(?:\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation}|\p{Emoji}\uFE0F\u20E3?))*/uy,T=/(?:[\x20-\x7E\xA0-\xFF](?!\uFE0F)){1,1000}/y,ee=/\p{M}+/gu,te={limit:1/0,ellipsis:``},E=(e,t={},n={})=>{let r=t.limit??1/0,i=t.ellipsis??``,a=t?.ellipsisWidth??(i?E(i,te,n).width:0),o=n.ansiWidth??0,s=n.controlWidth??0,c=n.tabWidth??8,l=n.ambiguousWidth??1,u=n.emojiWidth??2,d=n.fullWidthWidth??2,f=n.regularWidth??1,p=n.wideWidth??2,m=0,h=0,g=e.length,_=0,D=!1,O=g,k=Math.max(0,r-a),A=0,j=0,M=0,N=0;t:for(;;){if(j>A||h>=g&&h>m){let t=e.slice(A,j)||e.slice(m,h);_=0;for(let e of t.replaceAll(ee,``)){let t=e.codePointAt(0)||0;if(N=y(t)?d:b(t)?p:l!==f&&v(t)?l:f,M+N>k&&(O=Math.min(O,Math.max(A,m)+_)),M+N>r){D=!0;break t}_+=e.length,M+=N}A=j=0}if(h>=g)break;if(T.lastIndex=h,T.test(e)){if(_=T.lastIndex-h,N=_*f,M+N>k&&(O=Math.min(O,h+Math.floor((k-M)/f))),M+N>r){D=!0;break}M+=N,A=m,j=h,h=m=T.lastIndex;continue}if(x.lastIndex=h,x.test(e)){if(M+o>k&&(O=Math.min(O,h)),M+o>r){D=!0;break}M+=o,A=m,j=h,h=m=x.lastIndex;continue}if(S.lastIndex=h,S.test(e)){if(_=S.lastIndex-h,N=_*s,M+N>k&&(O=Math.min(O,h+Math.floor((k-M)/s))),M+N>r){D=!0;break}M+=N,A=m,j=h,h=m=S.lastIndex;continue}if(C.lastIndex=h,C.test(e)){if(_=C.lastIndex-h,N=_*c,M+N>k&&(O=Math.min(O,h+Math.floor((k-M)/c))),M+N>r){D=!0;break}M+=N,A=m,j=h,h=m=C.lastIndex;continue}if(w.lastIndex=h,w.test(e)){if(M+u>k&&(O=Math.min(O,h)),M+u>r){D=!0;break}M+=u,A=m,j=h,h=m=w.lastIndex;continue}h+=1}return{width:D?k:M,index:D?O:g,truncated:D,ellipsed:D&&r>=a}},D={limit:1/0,ellipsis:``,ellipsisWidth:0},O=(e,t={})=>E(e,D,t).width,k=`]8;;`,A=RegExp(`(?:\\[(?<code>\\d+)m|\\${k}(?<uri>.*))`,`y`),j=e=>{if(e>=30&&e<=37||e>=90&&e<=97)return 39;if(e>=40&&e<=47||e>=100&&e<=107)return 49;if(e===1||e===2)return 22;if(e===3)return 23;if(e===4)return 24;if(e===7)return 27;if(e===8)return 28;if(e===9)return 29;if(e===0)return 0},M=e=>`[${e}m`,N=e=>`${k}${e}`,ne=e=>e.map(e=>O(e)),re=(e,t,n)=>{let r=t[Symbol.iterator](),i=!1,a=!1,o=e.at(-1),s=o===void 0?0:O(o),c=r.next(),l=r.next(),u=0;for(;!c.done;){let o=c.value,d=O(o);s+d<=n?e[e.length-1]+=o:(e.push(o),s=0),(o===`\x1B`||o===`Â›`)&&(i=!0,a=t.startsWith(k,u+1)),i?a?o===`\x07`&&(i=!1,a=!1):o===`m`&&(i=!1):(s+=d,s===n&&!l.done&&(e.push(``),s=0)),c=l,l=r.next(),u+=o.length}o=e.at(-1),!s&&o!==void 0&&o.length>0&&e.length>1&&(e[e.length-2]+=e.pop())},ie=e=>{let t=e.split(` `),n=t.length;for(;n>0&&!(O(t[n-1])>0);)n--;return n===t.length?e:t.slice(0,n).join(` `)+t.slice(n).join(``)},ae=(e,t,n={})=>{if(n.trim!==!1&&e.trim()===``)return``;let r=``,i,a,o=e.split(` `),s=ne(o),c=[``];for(let[e,r]of o.entries()){n.trim!==!1&&(c[c.length-1]=(c.at(-1)??``).trimStart());let i=O(c.at(-1)??``);if(e!==0&&(i>=t&&(n.wordWrap===!1||n.trim===!1)&&(c.push(``),i=0),(i>0||n.trim===!1)&&(c[c.length-1]+=` `,i++)),n.hard&&s[e]>t){let n=t-i,a=1+Math.floor((s[e]-n-1)/t);Math.floor((s[e]-1)/t)<a&&c.push(``),re(c,r,t);continue}if(i+s[e]>t&&i>0&&s[e]>0){if(n.wordWrap===!1&&i<t){re(c,r,t);continue}c.push(``)}if(i+s[e]>t&&n.wordWrap===!1){re(c,r,t);continue}c[c.length-1]+=r}n.trim!==!1&&(c=c.map(e=>ie(e)));let l=c.join(`
`),u=l[Symbol.iterator](),d=u.next(),f=u.next(),p=0;for(;!d.done;){let e=d.value,t=f.value;if(r+=e,e===`\x1B`||e===`Â›`){A.lastIndex=p+1;let e=A.exec(l)?.groups;if(e?.code!==void 0){let t=Number.parseFloat(e.code);i=t===39?void 0:t}else e?.uri!==void 0&&(a=e.uri.length===0?void 0:e.uri)}let n=i?j(i):void 0;t===`
`?(a&&(r+=N(``)),i&&n&&(r+=M(n))):e===`
`&&(i&&n&&(r+=M(i)),a&&(r+=N(a))),p+=e.length,d=f,f=u.next()}return r};function oe(e,t,n){return String(e).normalize().replaceAll(`\r
`,`
`).split(`
`).map(e=>ae(e,t,n)).join(`
`)}const P={actions:new Set([`up`,`down`,`left`,`right`,`space`,`enter`,`cancel`]),aliases:new Map([[`k`,`up`],[`j`,`down`],[`h`,`left`],[`l`,`right`],[``,`cancel`],[`escape`,`cancel`]]),messages:{cancel:`Canceled`,error:`Something went wrong`}};function se(e,t){if(typeof e==`string`)return P.aliases.get(e)===t;for(let n of e)if(n!==void 0&&se(n,t))return!0;return!1}function ce(e,t){if(e===t)return;let n=e.split(`
`),r=t.split(`
`),i=[];for(let e=0;e<Math.max(n.length,r.length);e++)n[e]!==r[e]&&i.push(e);return i}const le=globalThis.process.platform.startsWith(`win`),ue=Symbol(`clack:cancel`);function de(e){return e===ue}function F(e,t){let n=e;n.isTTY&&n.setRawMode(t)}function fe({input:e=i,output:t=a,overwrite:n=!0,hideCursor:r=!0}={}){let s=o.createInterface({input:e,output:t,prompt:``,tabSize:1});o.emitKeypressEvents(e,s),e instanceof c&&e.isTTY&&e.setRawMode(!0);let l=(i,{name:a,sequence:s})=>{if(se([String(i),a,s],`cancel`)){r&&t.write(_.cursor.show),process.exit(0);return}if(!n)return;let c=a===`return`?0:-1,u=a===`return`?-1:0;o.moveCursor(t,c,u,()=>{o.clearLine(t,1,()=>{e.once(`keypress`,l)})})};return r&&t.write(_.cursor.hide),e.once(`keypress`,l),()=>{e.off(`keypress`,l),r&&t.write(_.cursor.show),e instanceof c&&e.isTTY&&!le&&e.setRawMode(!1),s.terminal=!1,s.close()}}const pe=e=>`columns`in e&&typeof e.columns==`number`?e.columns:80,me=e=>`rows`in e&&typeof e.rows==`number`?e.rows:20;var I=class{input;output;_abortSignal;rl;opts;_render;_track=!1;_prevFrame=``;_subscribers=new Map;_cursor=0;state=`initial`;error=``;value;userInput=``;constructor(e,t=!0){let{input:n=i,output:r=a,render:o,signal:s,...c}=e;this.opts=c,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=o.bind(this),this._track=t,this._abortSignal=s,this.input=n,this.output=r}unsubscribe(){this._subscribers.clear()}setSubscriber(e,t){let n=this._subscribers.get(e)??[];n.push(t),this._subscribers.set(e,n)}on(e,t){this.setSubscriber(e,{cb:t})}once(e,t){this.setSubscriber(e,{cb:t,once:!0})}emit(e,...t){let n=this._subscribers.get(e)??[],r=[];for(let e of n)e.cb(...t),e.once&&r.push(()=>n.splice(n.indexOf(e),1));for(let e of r)e()}prompt(){return new Promise(e=>{if(this._abortSignal){if(this._abortSignal.aborted)return this.state=`cancel`,this.close(),e(ue);this._abortSignal.addEventListener(`abort`,()=>{this.state=`cancel`,this.close()},{once:!0})}this.rl=s.createInterface({input:this.input,tabSize:2,prompt:``,escapeCodeTimeout:50,terminal:!0}),this.rl.prompt(),this.opts.initialUserInput!==void 0&&this._setUserInput(this.opts.initialUserInput,!0),this.input.on(`keypress`,this.onKeypress),F(this.input,!0),this.output.on(`resize`,this.render),this.render(),this.once(`submit`,()=>{this.output.write(_.cursor.show),this.output.off(`resize`,this.render),F(this.input,!1),e(this.value)}),this.once(`cancel`,()=>{this.output.write(_.cursor.show),this.output.off(`resize`,this.render),F(this.input,!1),e(ue)})})}_isActionKey(e,t){return e===`	`}_setValue(e){this.value=e,this.emit(`value`,this.value)}_setUserInput(e,t){this.userInput=e??``,this.emit(`userInput`,this.userInput),t&&this._track&&this.rl&&(this.rl.write(this.userInput),this._cursor=this.rl.cursor)}_clearUserInput(){this.rl?.write(null,{ctrl:!0,name:`u`}),this._setUserInput(``)}onKeypress(e,t){if(this._track&&t.name!==`return`&&(t.name&&this._isActionKey(e,t)&&this.rl?.write(null,{ctrl:!0,name:`h`}),this._cursor=this.rl?.cursor??0,this._setUserInput(this.rl?.line)),this.state===`error`&&(this.state=`active`),t?.name&&(!this._track&&P.aliases.has(t.name)&&this.emit(`cursor`,P.aliases.get(t.name)),P.actions.has(t.name)&&this.emit(`cursor`,t.name)),e&&(e.toLowerCase()===`y`||e.toLowerCase()===`n`)&&this.emit(`confirm`,e.toLowerCase()===`y`),this.emit(`key`,e?.toLowerCase(),t),t?.name===`return`){if(this.opts.validate){let e=this.opts.validate(this.value);e&&(this.error=e instanceof Error?e.message:e,this.state=`error`,this.rl?.write(this.userInput))}this.state!==`error`&&(this.state=`submit`)}se([e,t?.name,t?.sequence],`cancel`)&&(this.state=`cancel`),(this.state===`submit`||this.state===`cancel`)&&this.emit(`finalize`),this.render(),(this.state===`submit`||this.state===`cancel`)&&this.close()}close(){this.input.unpipe(),this.input.removeListener(`keypress`,this.onKeypress),this.output.write(`
`),F(this.input,!1),this.rl?.close(),this.rl=void 0,this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let e=oe(this._prevFrame,process.stdout.columns,{hard:!0,trim:!1}).split(`
`).length-1;this.output.write(_.cursor.move(-999,e*-1))}render(){let e=oe(this._render(this)??``,process.stdout.columns,{hard:!0,trim:!1});if(e!==this._prevFrame){if(this.state===`initial`)this.output.write(_.cursor.hide);else{let t=ce(this._prevFrame,e);if(this.restoreCursor(),t&&t?.length===1){let n=t[0];this.output.write(_.cursor.move(0,n)),this.output.write(_.erase.lines(1));let r=e.split(`
`);this.output.write(r[n]),this._prevFrame=e,this.output.write(_.cursor.move(0,r.length-n-1));return}if(t&&t?.length>1){let n=t[0];this.output.write(_.cursor.move(0,n)),this.output.write(_.erase.down());let r=e.split(`
`).slice(n);this.output.write(r.join(`
`)),this._prevFrame=e;return}this.output.write(_.erase.down())}this.output.write(e),this.state===`initial`&&(this.state=`active`),this._prevFrame=e}}};function he(e,t){if(e===void 0||t.length===0)return 0;let n=t.findIndex(t=>t.value===e);return n===-1?0:n}function ge(e,t){return(t.label??String(t.value)).toLowerCase().includes(e.toLowerCase())}function _e(e,t){if(t)return e?t:t[0]}var ve=class extends I{filteredOptions;multiple;isNavigating=!1;selectedValues=[];focusedValue;#e=0;#t=``;#n;#r;get cursor(){return this.#e}get userInputWithCursor(){if(!this.userInput)return g.default.inverse(g.default.hidden(`_`));if(this._cursor>=this.userInput.length)return`${this.userInput}\u2588`;let e=this.userInput.slice(0,this._cursor),[t,...n]=this.userInput.slice(this._cursor);return`${e}${g.default.inverse(t)}${n.join(``)}`}get options(){return typeof this.#r==`function`?this.#r():this.#r}constructor(e){super(e),this.#r=e.options;let t=this.options;this.filteredOptions=[...t],this.multiple=e.multiple===!0,this.#n=e.filter??ge;let n;if(e.initialValue&&Array.isArray(e.initialValue)?n=this.multiple?e.initialValue:e.initialValue.slice(0,1):!this.multiple&&this.options.length>0&&(n=[this.options[0].value]),n)for(let e of n){let n=t.findIndex(t=>t.value===e);n!==-1&&(this.toggleSelected(e),this.#e=n)}this.focusedValue=this.options[this.#e]?.value,this.on(`key`,(e,t)=>this.#i(e,t)),this.on(`userInput`,e=>this.#a(e))}_isActionKey(e,t){return e===`	`||this.multiple&&this.isNavigating&&t.name===`space`&&e!==void 0&&e!==``}#i(e,t){let n=t.name===`up`,r=t.name===`down`,i=t.name===`return`;n||r?(this.#e=Math.max(0,Math.min(this.#e+(n?-1:1),this.filteredOptions.length-1)),this.focusedValue=this.filteredOptions[this.#e]?.value,this.multiple||(this.selectedValues=[this.focusedValue]),this.isNavigating=!0):i?this.value=_e(this.multiple,this.selectedValues):this.multiple?this.focusedValue!==void 0&&(t.name===`tab`||this.isNavigating&&t.name===`space`)?this.toggleSelected(this.focusedValue):this.isNavigating=!1:(this.focusedValue&&(this.selectedValues=[this.focusedValue]),this.isNavigating=!1)}deselectAll(){this.selectedValues=[]}toggleSelected(e){this.filteredOptions.length!==0&&(this.multiple?this.selectedValues.includes(e)?this.selectedValues=this.selectedValues.filter(t=>t!==e):this.selectedValues=[...this.selectedValues,e]:this.selectedValues=[e])}#a(e){if(e!==this.#t){this.#t=e;let t=this.options;e?this.filteredOptions=t.filter(t=>this.#n(e,t)):this.filteredOptions=[...t],this.#e=he(this.focusedValue,this.filteredOptions),this.focusedValue=this.filteredOptions[this.#e]?.value,this.multiple||(this.focusedValue===void 0?this.deselectAll():this.toggleSelected(this.focusedValue))}}};let ye=class extends I{get cursor(){return this.value?0:1}get _value(){return this.cursor===0}constructor(e){super(e,!1),this.value=!!e.initialValue,this.on(`userInput`,()=>{this.value=this._value}),this.on(`confirm`,e=>{this.output.write(_.cursor.move(0,-1)),this.value=e,this.state=`submit`,this.close()}),this.on(`cursor`,()=>{this.value=!this.value})}};var be=class extends I{options;cursor=0;#e;getGroupItems(e){return this.options.filter(t=>t.group===e)}isGroupSelected(e){let t=this.getGroupItems(e),n=this.value;return n===void 0?!1:t.every(e=>n.includes(e.value))}toggleValue(){let e=this.options[this.cursor];if(this.value===void 0&&(this.value=[]),e.group===!0){let t=e.value,n=this.getGroupItems(t);this.isGroupSelected(t)?this.value=this.value.filter(e=>n.findIndex(t=>t.value===e)===-1):this.value=[...this.value,...n.map(e=>e.value)],this.value=Array.from(new Set(this.value))}else this.value=this.value.includes(e.value)?this.value.filter(t=>t!==e.value):[...this.value,e.value]}constructor(e){super(e,!1);let{options:t}=e;this.#e=e.selectableGroups!==!1,this.options=Object.entries(t).flatMap(([e,t])=>[{value:e,group:!0,label:e},...t.map(t=>({...t,group:e}))]),this.value=[...e.initialValues??[]],this.cursor=Math.max(this.options.findIndex(({value:t})=>t===e.cursorAt),this.#e?0:1),this.on(`cursor`,e=>{switch(e){case`left`:case`up`:{this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;let e=this.options[this.cursor]?.group===!0;!this.#e&&e&&(this.cursor=this.cursor===0?this.options.length-1:this.cursor-1);break}case`down`:case`right`:{this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;let e=this.options[this.cursor]?.group===!0;!this.#e&&e&&(this.cursor=this.cursor===this.options.length-1?0:this.cursor+1);break}case`space`:this.toggleValue();break}})}};function L(e,t,n){let r=e+t,i=Math.max(n.length-1,0),a=r<0?i:r>i?0:r;return n[a].disabled?L(a,t<0?-1:1,n):a}var xe=class extends I{options;cursor=0;get _value(){return this.options[this.cursor].value}get _enabledOptions(){return this.options.filter(e=>e.disabled!==!0)}toggleAll(){let e=this._enabledOptions;this.value=this.value!==void 0&&this.value.length===e.length?[]:e.map(e=>e.value)}toggleInvert(){let e=this.value;e&&(this.value=this._enabledOptions.filter(t=>!e.includes(t.value)).map(e=>e.value))}toggleValue(){this.value===void 0&&(this.value=[]),this.value=this.value.includes(this._value)?this.value.filter(e=>e!==this._value):[...this.value,this._value]}constructor(e){super(e,!1),this.options=e.options,this.value=[...e.initialValues??[]];let t=Math.max(this.options.findIndex(({value:t})=>t===e.cursorAt),0);this.cursor=this.options[t].disabled?L(t,1,this.options):t,this.on(`key`,e=>{e===`a`&&this.toggleAll(),e===`i`&&this.toggleInvert()}),this.on(`cursor`,e=>{switch(e){case`left`:case`up`:this.cursor=L(this.cursor,-1,this.options);break;case`down`:case`right`:this.cursor=L(this.cursor,1,this.options);break;case`space`:this.toggleValue();break}})}};let Se=class extends I{_mask=`â€¢`;get cursor(){return this._cursor}get masked(){return this.userInput.replaceAll(/./g,this._mask)}get userInputWithCursor(){if(this.state===`submit`||this.state===`cancel`)return this.masked;let e=this.userInput;if(this.cursor>=e.length)return`${this.masked}${g.default.inverse(g.default.hidden(`_`))}`;let t=this.masked,n=t.slice(0,this.cursor),r=t.slice(this.cursor);return`${n}${g.default.inverse(r[0])}${r.slice(1)}`}clear(){this._clearUserInput()}constructor({mask:e,...t}){super(t),this._mask=e??`â€¢`,this.on(`userInput`,e=>{this._setValue(e)})}};var Ce=class extends I{options;cursor=0;get _selectedValue(){return this.options[this.cursor]}changeValue(){this.value=this._selectedValue.value}constructor(e){super(e,!1),this.options=e.options;let t=this.options.findIndex(({value:t})=>t===e.initialValue),n=t===-1?0:t;this.cursor=this.options[n].disabled?L(n,1,this.options):n,this.changeValue(),this.on(`cursor`,e=>{switch(e){case`left`:case`up`:this.cursor=L(this.cursor,-1,this.options);break;case`down`:case`right`:this.cursor=L(this.cursor,1,this.options);break}this.changeValue()})}},we=class extends I{get userInputWithCursor(){if(this.state===`submit`)return this.userInput;let e=this.userInput;if(this.cursor>=e.length)return`${this.userInput}\u2588`;let t=e.slice(0,this.cursor),[n,...r]=e.slice(this.cursor);return`${t}${g.default.inverse(n)}${r.join(``)}`}get cursor(){return this._cursor}constructor(e){super({...e,initialUserInput:e.initialUserInput??e.initialValue}),this.on(`userInput`,e=>{this._setValue(e)}),this.on(`finalize`,()=>{this.value||=e.defaultValue,this.value===void 0&&(this.value=``)})}};function Te(){return r.platform===`win32`?!!r.env.CI||!!r.env.WT_SESSION||!!r.env.TERMINUS_SUBLIME||r.env.ConEmuTask===`{cmd::Cmder}`||r.env.TERM_PROGRAM===`Terminus-Sublime`||r.env.TERM_PROGRAM===`vscode`||r.env.TERM===`xterm-256color`||r.env.TERM===`alacritty`||r.env.TERMINAL_EMULATOR===`JetBrains-JediTerm`:r.env.TERM!==`linux`}const Ee=Te(),De=()=>process.env.CI===`true`,Oe=e=>e.isTTY===!0,R=(e,t)=>Ee?e:t,ke=R(`â—†`,`*`),Ae=R(`â– `,`x`),je=R(`â–²`,`x`),z=R(`â—‡`,`o`),Me=R(`â”Œ`,`T`),B=R(`â”‚`,`|`),V=R(`â””`,`â€”`),Ne=R(`â—`,`>`),H=R(`â—‹`,` `),Pe=R(`â—»`,`[â€¢]`),U=R(`â—¼`,`[+]`),W=R(`â—»`,`[ ]`),Fe=R(`â–ª`,`â€¢`),Ie=R(`â—`,`â€¢`),Le=R(`â—†`,`*`),Re=R(`â–²`,`!`),ze=R(`â– `,`x`),G=e=>{switch(e){case`initial`:case`active`:return g.default.cyan(ke);case`cancel`:return g.default.red(Ae);case`error`:return g.default.yellow(je);case`submit`:return g.default.green(z)}},Be=e=>e===161||e===164||e===167||e===168||e===170||e===173||e===174||e>=176&&e<=180||e>=182&&e<=186||e>=188&&e<=191||e===198||e===208||e===215||e===216||e>=222&&e<=225||e===230||e>=232&&e<=234||e===236||e===237||e===240||e===242||e===243||e>=247&&e<=250||e===252||e===254||e===257||e===273||e===275||e===283||e===294||e===295||e===299||e>=305&&e<=307||e===312||e>=319&&e<=322||e===324||e>=328&&e<=331||e===333||e===338||e===339||e===358||e===359||e===363||e===462||e===464||e===466||e===468||e===470||e===472||e===474||e===476||e===593||e===609||e===708||e===711||e>=713&&e<=715||e===717||e===720||e>=728&&e<=731||e===733||e===735||e>=768&&e<=879||e>=913&&e<=929||e>=931&&e<=937||e>=945&&e<=961||e>=963&&e<=969||e===1025||e>=1040&&e<=1103||e===1105||e===8208||e>=8211&&e<=8214||e===8216||e===8217||e===8220||e===8221||e>=8224&&e<=8226||e>=8228&&e<=8231||e===8240||e===8242||e===8243||e===8245||e===8251||e===8254||e===8308||e===8319||e>=8321&&e<=8324||e===8364||e===8451||e===8453||e===8457||e===8467||e===8470||e===8481||e===8482||e===8486||e===8491||e===8531||e===8532||e>=8539&&e<=8542||e>=8544&&e<=8555||e>=8560&&e<=8569||e===8585||e>=8592&&e<=8601||e===8632||e===8633||e===8658||e===8660||e===8679||e===8704||e===8706||e===8707||e===8711||e===8712||e===8715||e===8719||e===8721||e===8725||e===8730||e>=8733&&e<=8736||e===8739||e===8741||e>=8743&&e<=8748||e===8750||e>=8756&&e<=8759||e===8764||e===8765||e===8776||e===8780||e===8786||e===8800||e===8801||e>=8804&&e<=8807||e===8810||e===8811||e===8814||e===8815||e===8834||e===8835||e===8838||e===8839||e===8853||e===8857||e===8869||e===8895||e===8978||e>=9312&&e<=9449||e>=9451&&e<=9547||e>=9552&&e<=9587||e>=9600&&e<=9615||e>=9618&&e<=9621||e===9632||e===9633||e>=9635&&e<=9641||e===9650||e===9651||e===9654||e===9655||e===9660||e===9661||e===9664||e===9665||e>=9670&&e<=9672||e===9675||e>=9678&&e<=9681||e>=9698&&e<=9701||e===9711||e===9733||e===9734||e===9737||e===9742||e===9743||e===9756||e===9758||e===9792||e===9794||e===9824||e===9825||e>=9827&&e<=9829||e>=9831&&e<=9834||e===9836||e===9837||e===9839||e===9886||e===9887||e===9919||e>=9926&&e<=9933||e>=9935&&e<=9939||e>=9941&&e<=9953||e===9955||e===9960||e===9961||e>=9963&&e<=9969||e===9972||e>=9974&&e<=9977||e===9979||e===9980||e===9982||e===9983||e===10045||e>=10102&&e<=10111||e>=11094&&e<=11097||e>=12872&&e<=12879||e>=57344&&e<=63743||e>=65024&&e<=65039||e===65533||e>=127232&&e<=127242||e>=127248&&e<=127277||e>=127280&&e<=127337||e>=127344&&e<=127373||e===127375||e===127376||e>=127387&&e<=127404||e>=917760&&e<=917999||e>=983040&&e<=1048573||e>=1048576&&e<=1114109,Ve=e=>e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510,He=e=>e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9800&&e<=9811||e===9855||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12771||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e===94192||e===94193||e>=94208&&e<=100343||e>=100352&&e<=101589||e>=101632&&e<=101640||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128727||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129672||e>=129680&&e<=129725||e>=129727&&e<=129733||e>=129742&&e<=129755||e>=129760&&e<=129768||e>=129776&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141,Ue=/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/y,K=/[\x00-\x08\x0A-\x1F\x7F-\x9F]{1,1000}/y,q=/\t{1,1000}/y,We=/[\u{1F1E6}-\u{1F1FF}]{2}|\u{1F3F4}[\u{E0061}-\u{E007A}]{2}[\u{E0030}-\u{E0039}\u{E0061}-\u{E007A}]{1,3}\u{E007F}|(?:\p{Emoji}\uFE0F\u20E3?|\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation})(?:\u200D(?:\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation}|\p{Emoji}\uFE0F\u20E3?))*/uy,J=/(?:[\x20-\x7E\xA0-\xFF](?!\uFE0F)){1,1000}/y,Ge=/\p{M}+/gu,Ke={limit:1/0,ellipsis:``},qe=(e,t={},n={})=>{let r=t.limit??1/0,i=t.ellipsis??``,a=t?.ellipsisWidth??(i?qe(i,Ke,n).width:0),o=n.ansiWidth??0,s=n.controlWidth??0,c=n.tabWidth??8,l=n.ambiguousWidth??1,u=n.emojiWidth??2,d=n.fullWidthWidth??2,f=n.regularWidth??1,p=n.wideWidth??2,m=0,h=0,g=e.length,_=0,v=!1,y=g,b=Math.max(0,r-a),x=0,S=0,C=0,w=0;e:for(;;){if(S>x||h>=g&&h>m){let t=e.slice(x,S)||e.slice(m,h);_=0;for(let e of t.replaceAll(Ge,``)){let t=e.codePointAt(0)||0;if(w=Ve(t)?d:He(t)?p:l!==f&&Be(t)?l:f,C+w>b&&(y=Math.min(y,Math.max(x,m)+_)),C+w>r){v=!0;break e}_+=e.length,C+=w}x=S=0}if(h>=g)break;if(J.lastIndex=h,J.test(e)){if(_=J.lastIndex-h,w=_*f,C+w>b&&(y=Math.min(y,h+Math.floor((b-C)/f))),C+w>r){v=!0;break}C+=w,x=m,S=h,h=m=J.lastIndex;continue}if(Ue.lastIndex=h,Ue.test(e)){if(C+o>b&&(y=Math.min(y,h)),C+o>r){v=!0;break}C+=o,x=m,S=h,h=m=Ue.lastIndex;continue}if(K.lastIndex=h,K.test(e)){if(_=K.lastIndex-h,w=_*s,C+w>b&&(y=Math.min(y,h+Math.floor((b-C)/s))),C+w>r){v=!0;break}C+=w,x=m,S=h,h=m=K.lastIndex;continue}if(q.lastIndex=h,q.test(e)){if(_=q.lastIndex-h,w=_*c,C+w>b&&(y=Math.min(y,h+Math.floor((b-C)/c))),C+w>r){v=!0;break}C+=w,x=m,S=h,h=m=q.lastIndex;continue}if(We.lastIndex=h,We.test(e)){if(C+u>b&&(y=Math.min(y,h)),C+u>r){v=!0;break}C+=u,x=m,S=h,h=m=We.lastIndex;continue}h+=1}return{width:v?b:C,index:v?y:g,truncated:v,ellipsed:v&&r>=a}},Je={limit:1/0,ellipsis:``,ellipsisWidth:0},Y=(e,t={})=>qe(e,Je,t).width,Ye=`]8;;`,Xe=RegExp(`(?:\\[(?<code>\\d+)m|\\${Ye}(?<uri>.*))`,`y`),Ze=e=>{if(e>=30&&e<=37||e>=90&&e<=97)return 39;if(e>=40&&e<=47||e>=100&&e<=107)return 49;if(e===1||e===2)return 22;if(e===3)return 23;if(e===4)return 24;if(e===7)return 27;if(e===8)return 28;if(e===9)return 29;if(e===0)return 0},Qe=e=>`[${e}m`,$e=e=>`${Ye}${e}`,et=e=>e.map(e=>Y(e)),tt=(e,t,n)=>{let r=t[Symbol.iterator](),i=!1,a=!1,o=e.at(-1),s=o===void 0?0:Y(o),c=r.next(),l=r.next(),u=0;for(;!c.done;){let o=c.value,d=Y(o);s+d<=n?e[e.length-1]+=o:(e.push(o),s=0),(o===`\x1B`||o===`Â›`)&&(i=!0,a=t.startsWith(Ye,u+1)),i?a?o===`\x07`&&(i=!1,a=!1):o===`m`&&(i=!1):(s+=d,s===n&&!l.done&&(e.push(``),s=0)),c=l,l=r.next(),u+=o.length}o=e.at(-1),!s&&o!==void 0&&o.length>0&&e.length>1&&(e[e.length-2]+=e.pop())},nt=e=>{let t=e.split(` `),n=t.length;for(;n>0&&!(Y(t[n-1])>0);)n--;return n===t.length?e:t.slice(0,n).join(` `)+t.slice(n).join(``)},rt=(e,t,n={})=>{if(n.trim!==!1&&e.trim()===``)return``;let r=``,i,a,o=e.split(` `),s=et(o),c=[``];for(let[e,r]of o.entries()){n.trim!==!1&&(c[c.length-1]=(c.at(-1)??``).trimStart());let i=Y(c.at(-1)??``);if(e!==0&&(i>=t&&(n.wordWrap===!1||n.trim===!1)&&(c.push(``),i=0),(i>0||n.trim===!1)&&(c[c.length-1]+=` `,i++)),n.hard&&s[e]>t){let n=t-i,a=1+Math.floor((s[e]-n-1)/t);Math.floor((s[e]-1)/t)<a&&c.push(``),tt(c,r,t);continue}if(i+s[e]>t&&i>0&&s[e]>0){if(n.wordWrap===!1&&i<t){tt(c,r,t);continue}c.push(``)}if(i+s[e]>t&&n.wordWrap===!1){tt(c,r,t);continue}c[c.length-1]+=r}n.trim!==!1&&(c=c.map(e=>nt(e)));let l=c.join(`
`),u=l[Symbol.iterator](),d=u.next(),f=u.next(),p=0;for(;!d.done;){let e=d.value,t=f.value;if(r+=e,e===`\x1B`||e===`Â›`){Xe.lastIndex=p+1;let e=Xe.exec(l)?.groups;if(e?.code!==void 0){let t=Number.parseFloat(e.code);i=t===39?void 0:t}else e?.uri!==void 0&&(a=e.uri.length===0?void 0:e.uri)}let n=i?Ze(i):void 0;t===`
`?(a&&(r+=$e(``)),i&&n&&(r+=Qe(n))):e===`
`&&(i&&n&&(r+=Qe(i)),a&&(r+=$e(a))),p+=e.length,d=f,f=u.next()}return r};function it(e,t,n){return String(e).normalize().replaceAll(`\r
`,`
`).split(`
`).map(e=>rt(e,t,n)).join(`
`)}const at=(e,t,n,r,i)=>{let a=t,o=0;for(let t=n;t<r;t++){let n=e[t];if(a-=n.length,o++,a<=i)break}return{lineCount:a,removals:o}},X=e=>{let{cursor:t,options:n,style:r}=e,i=e.output??process.stdout,a=pe(i),o=e.columnPadding??0,s=e.rowPadding??4,c=a-o,l=me(i),u=g.default.dim(`...`),d=e.maxItems??1/0,f=Math.max(l-s,0),p=Math.max(Math.min(d,f),5),m=0;t>=p-3&&(m=Math.max(Math.min(t-p+3,n.length-p),0));let h=p<n.length&&m>0,_=p<n.length&&m+p<n.length,v=Math.min(m+p,n.length),y=[],b=0;h&&b++,_&&b++;let x=m+(h?1:0),S=v-(_?1:0);for(let e=x;e<S;e++){let i=it(r(n[e],e===t),c,{hard:!0,trim:!1}).split(`
`);y.push(i),b+=i.length}if(b>f){let e=0,n=0,r=b,i=t-x,a=(e,t)=>at(y,r,e,t,f);h?({lineCount:r,removals:e}=a(0,i),r>f&&({lineCount:r,removals:n}=a(i+1,y.length))):({lineCount:r,removals:n}=a(i+1,y.length),r>f&&({lineCount:r,removals:e}=a(0,i))),e>0&&(h=!0,y.splice(0,e)),n>0&&(_=!0,y.splice(y.length-n,n))}let C=[];h&&C.push(u);for(let e of y)for(let t of e)C.push(t);return _&&C.push(u),C};function ot(e,t){if(!e)return!0;let n=(t.label??String(t.value??``)).toLowerCase(),r=(t.hint??``).toLowerCase(),i=String(t.value).toLowerCase(),a=e.toLowerCase();return n.includes(a)||r.includes(a)||i.includes(a)}const st=e=>{let t=(e,t,n,r)=>{let i=n.includes(e.value),a=e.label??String(e.value??``),o=e.hint&&r!==void 0&&e.value===r?g.default.dim(` (${e.hint})`):``,s=i?g.default.green(U):g.default.dim(W);return t?`${s} ${a}${o}`:`${s} ${g.default.dim(a)}`},n=new ve({options:e.options,multiple:!0,filter:(e,t)=>ot(e,t),validate:()=>{if(e.required&&n.selectedValues.length===0)return`Please select at least one item`},initialValue:e.initialValues,signal:e.signal,input:e.input,output:e.output,render(){let n=`${g.default.gray(B)}
${G(this.state)}  ${e.message}
`,r=this.userInput,i=e.placeholder,a=r===``&&i!==void 0,o=this.isNavigating||a?g.default.dim(a?i:r):this.userInputWithCursor,s=this.options,c=this.filteredOptions.length===s.length?``:g.default.dim(` (${this.filteredOptions.length} match${this.filteredOptions.length===1?``:`es`})`);switch(this.state){case`submit`:return`${n}${g.default.gray(B)}  ${g.default.dim(`${this.selectedValues.length} items selected`)}`;case`cancel`:return`${n}${g.default.gray(B)}  ${g.default.strikethrough(g.default.dim(r))}`;default:{let i=[`${g.default.dim(`â†‘/â†“`)} to navigate`,`${g.default.dim(this.isNavigating?`Space/Tab:`:`Tab:`)} select`,`${g.default.dim(`Enter:`)} confirm`,`${g.default.dim(`Type:`)} to search`],a=this.filteredOptions.length===0&&r?[`${g.default.cyan(B)}  ${g.default.yellow(`No matches found`)}`]:[],s=this.state===`error`?[`${g.default.cyan(B)}  ${g.default.yellow(this.error)}`]:[],l=X({cursor:this.cursor,options:this.filteredOptions,style:(e,n)=>t(e,n,this.selectedValues,this.focusedValue),maxItems:e.maxItems,output:e.output});return[n,`${g.default.cyan(B)}  ${g.default.dim(`Search:`)} ${o}${c}`,...a,...s,...l.map(e=>`${g.default.cyan(B)}  ${e}`),`${g.default.cyan(B)}  ${g.default.dim(i.join(` â€¢ `))}`,`${g.default.cyan(V)}`].join(`
`)}}}});return n.prompt()},ct=e=>{let t=e.active??`Yes`,n=e.inactive??`No`;return new ye({active:t,inactive:n,signal:e.signal,input:e.input,output:e.output,initialValue:e.initialValue??!0,render(){let r=`${g.default.gray(B)}
${G(this.state)}  ${e.message}
`,i=this.value?t:n;switch(this.state){case`submit`:return`${r}${g.default.gray(B)}  ${g.default.dim(i)}`;case`cancel`:return`${r}${g.default.gray(B)}  ${g.default.strikethrough(g.default.dim(i))}
${g.default.gray(B)}`;default:return`${r}${g.default.cyan(B)}  ${this.value?`${g.default.green(Ne)} ${t}`:`${g.default.dim(H)} ${g.default.dim(t)}`} ${g.default.dim(`/`)} ${this.value?`${g.default.dim(H)} ${g.default.dim(n)}`:`${g.default.green(Ne)} ${n}`}
${g.default.cyan(V)}
`}}}).prompt()},lt=e=>{let{selectableGroups:t=!0,groupSpacing:n=0}=e,r=(e,r,i=[])=>{let a=e.label??String(e.value),o=typeof e.group==`string`,s=o&&(i[i.indexOf(e)+1]??{group:!0}),c=o&&s&&s.group===!0,l=o?t?`${c?V:B} `:`  `:``,u=``;if(n>0&&!o){let e=`
${g.default.cyan(B)}`;u=`${e.repeat(n-1)}${e}  `}if(r===`active`)return`${u}${g.default.dim(l)}${g.default.cyan(Pe)} ${a}${e.hint?` ${g.default.dim(`(${e.hint})`)}`:``}`;if(r===`group-active`)return`${u}${l}${g.default.cyan(Pe)} ${g.default.dim(a)}`;if(r===`group-active-selected`)return`${u}${l}${g.default.green(U)} ${g.default.dim(a)}`;if(r===`selected`){let n=o||t?g.default.green(U):``;return`${u}${g.default.dim(l)}${n} ${g.default.dim(a)}${e.hint?` ${g.default.dim(`(${e.hint})`)}`:``}`}if(r===`cancelled`)return`${g.default.strikethrough(g.default.dim(a))}`;if(r===`active-selected`)return`${u}${g.default.dim(l)}${g.default.green(U)} ${a}${e.hint?` ${g.default.dim(`(${e.hint})`)}`:``}`;if(r===`submitted`)return`${g.default.dim(a)}`;let d=o||t?g.default.dim(W):``;return`${u}${g.default.dim(l)}${d} ${g.default.dim(a)}`},i=e.required??!0;return new be({options:e.options,signal:e.signal,input:e.input,output:e.output,initialValues:e.initialValues,required:i,cursorAt:e.cursorAt,selectableGroups:t,validate(e){if(i&&(e===void 0||e.length===0))return`Please select at least one option.
${g.default.reset(g.default.dim(`Press ${g.default.gray(g.default.bgWhite(g.default.inverse(` space `)))} to select, ${g.default.gray(g.default.bgWhite(g.default.inverse(` enter `)))} to submit`))}`},render(){let t=`${g.default.gray(B)}
${G(this.state)}  ${e.message}
`,n=this.value??[];switch(this.state){case`submit`:{let e=this.options.filter(({value:e})=>n.includes(e)).map(e=>r(e,`submitted`)),i=e.length===0?``:`  ${e.join(g.default.dim(`, `))}`;return`${t}${g.default.gray(B)}${i}`}case`cancel`:{let e=this.options.filter(({value:e})=>n.includes(e)).map(e=>r(e,`cancelled`)).join(g.default.dim(`, `));return`${t}${g.default.gray(B)}  ${e.trim()?`${e}
${g.default.gray(B)}`:``}`}case`error`:{let e=this.error.split(`
`).map((e,t)=>t===0?`${g.default.yellow(V)}  ${g.default.yellow(e)}`:`   ${e}`).join(`
`);return`${t}${g.default.yellow(B)}  ${this.options.map((e,t,i)=>{let a=n.includes(e.value)||e.group===!0&&this.isGroupSelected(`${e.value}`),o=t===this.cursor;return!o&&typeof e.group==`string`&&this.options[this.cursor].value===e.group?r(e,a?`group-active-selected`:`group-active`,i):o&&a?r(e,`active-selected`,i):a?r(e,`selected`,i):r(e,o?`active`:`inactive`,i)}).join(`
${g.default.yellow(B)}  `)}
${e}
`}default:{let e=this.options.map((e,t,i)=>{let a=n.includes(e.value)||e.group===!0&&this.isGroupSelected(`${e.value}`),o=t===this.cursor,s=!o&&typeof e.group==`string`&&this.options[this.cursor].value===e.group,c=``;return c=s?r(e,a?`group-active-selected`:`group-active`,i):o&&a?r(e,`active-selected`,i):a?r(e,`selected`,i):r(e,o?`active`:`inactive`,i),`${t!==0&&!c.startsWith(`
`)?`  `:``}${c}`}).join(`
${g.default.cyan(B)}`),i=e.startsWith(`
`)?``:`  `;return`${t}${g.default.cyan(B)}${i}${e}
${g.default.cyan(V)}
`}}}}).prompt()},Z={message:(e=[],{symbol:t=g.default.gray(B),secondarySymbol:n=g.default.gray(B),output:r=process.stdout,spacing:i=1}={})=>{let a=[];for(let e=0;e<i;e++)a.push(`${n}`);let o=Array.isArray(e)?e:e.split(`
`);if(o.length>0){let[e,...r]=o;e.length>0?a.push(`${t}  ${e}`):a.push(t);for(let e of r)e.length>0?a.push(`${n}  ${e}`):a.push(n)}r.write(`${a.join(`
`)}
`)},info:(e,t)=>{Z.message(e,{...t,symbol:g.default.blue(Ie)})},success:(e,t)=>{Z.message(e,{...t,symbol:g.default.green(Le)})},step:(e,t)=>{Z.message(e,{...t,symbol:g.default.green(z)})},warn:(e,t)=>{Z.message(e,{...t,symbol:g.default.yellow(Re)})},warning:(e,t)=>{Z.warn(e,t)},error:(e,t)=>{Z.message(e,{...t,symbol:g.default.red(ze)})}},ut=(e=``,t)=>{(t?.output??process.stdout).write(`${g.default.gray(V)}  ${g.default.red(e)}

`)},dt=(e=``,t)=>{(t?.output??process.stdout).write(`${g.default.gray(Me)}  ${e}
`)},ft=(e=``,t)=>{(t?.output??process.stdout).write(`${g.default.gray(B)}
${g.default.gray(V)}  ${e}

`)},pt=e=>{let t=(e,t)=>{let n=e.label??String(e.value);return t===`disabled`?`${g.default.gray(W)} ${g.default.gray(n)}${e.hint?` ${g.default.dim(`(${e.hint??`disabled`})`)}`:``}`:t===`active`?`${g.default.cyan(Pe)} ${n}${e.hint?` ${g.default.dim(`(${e.hint})`)}`:``}`:t===`selected`?`${g.default.green(U)} ${g.default.dim(n)}${e.hint?` ${g.default.dim(`(${e.hint})`)}`:``}`:t===`cancelled`?`${g.default.strikethrough(g.default.dim(n))}`:t===`active-selected`?`${g.default.green(U)} ${n}${e.hint?` ${g.default.dim(`(${e.hint})`)}`:``}`:t===`submitted`?`${g.default.dim(n)}`:`${g.default.dim(W)} ${g.default.dim(n)}`},n=e.required??!0;return new xe({options:e.options,signal:e.signal,input:e.input,output:e.output,initialValues:e.initialValues,required:n,cursorAt:e.cursorAt,validate(e){if(n&&(e===void 0||e.length===0))return`Please select at least one option.
${g.default.reset(g.default.dim(`Press ${g.default.gray(g.default.bgWhite(g.default.inverse(` space `)))} to select, ${g.default.gray(g.default.bgWhite(g.default.inverse(` enter `)))} to submit`))}`},render(){let n=`${g.default.gray(B)}
${G(this.state)}  ${e.message}
`,r=this.value??[],i=(e,n)=>{if(e.disabled)return t(e,`disabled`);let i=r.includes(e.value);return n&&i?t(e,`active-selected`):i?t(e,`selected`):t(e,n?`active`:`inactive`)};switch(this.state){case`submit`:return`${n}${g.default.gray(B)}  ${this.options.filter(({value:e})=>r.includes(e)).map(e=>t(e,`submitted`)).join(g.default.dim(`, `))||g.default.dim(`none`)}`;case`cancel`:{let e=this.options.filter(({value:e})=>r.includes(e)).map(e=>t(e,`cancelled`)).join(g.default.dim(`, `));return`${n}${g.default.gray(B)}${e.trim()?`  ${e}
${g.default.gray(B)}`:``}`}case`error`:{let t=`${g.default.yellow(B)}  `,r=this.error.split(`
`).map((e,t)=>t===0?`${g.default.yellow(V)}  ${g.default.yellow(e)}`:`   ${e}`).join(`
`);return`${n}${t}${X({output:e.output,options:this.options,cursor:this.cursor,maxItems:e.maxItems,columnPadding:t.length,style:i}).join(`
${t}`)}
${r}
`}default:{let t=`${g.default.cyan(B)}  `;return`${n}${t}${X({output:e.output,options:this.options,cursor:this.cursor,maxItems:e.maxItems,columnPadding:t.length,style:i}).join(`
${t}`)}
${g.default.cyan(V)}
`}}}}).prompt()},mt=e=>new Se({validate:e.validate,mask:e.mask??Fe,signal:e.signal,input:e.input,output:e.output,render(){let t=`${g.default.gray(B)}
${G(this.state)}  ${e.message}
`,n=this.userInputWithCursor,r=this.masked;switch(this.state){case`error`:{let n=r?`  ${r}`:``;return e.clearOnError&&this.clear(),`${t.trim()}
${g.default.yellow(B)}${n}
${g.default.yellow(V)}  ${g.default.yellow(this.error)}
`}case`submit`:{let e=r?`  ${g.default.dim(r)}`:``;return`${t}${g.default.gray(B)}${e}`}case`cancel`:{let e=r?`  ${g.default.strikethrough(g.default.dim(r))}`:``;return`${t}${g.default.gray(B)}${e}${r?`
${g.default.gray(B)}`:``}`}default:return`${t}${g.default.cyan(B)}  ${n}
${g.default.cyan(V)}
`}}}).prompt(),ht=g.default.magenta,gt=({indicator:e=`dots`,onCancel:t,output:n=process.stdout,cancelMessage:r,errorMessage:i,frames:a=Ee?[`â—’`,`â—`,`â—“`,`â—‘`]:[`â€¢`,`o`,`O`,`0`],delay:o=Ee?80:120,signal:s,...c}={})=>{let l=De(),u,d,f=!1,p=!1,m=``,h,v=performance.now(),y=pe(n),b=c?.styleFrame??ht,x=e=>{let n=e>1?i??P.messages.error:r??P.messages.cancel;p=e===1,f&&(O(n,e),p&&typeof t==`function`&&t())},S=()=>x(2),C=()=>x(1),w=()=>{process.on(`uncaughtExceptionMonitor`,S),process.on(`unhandledRejection`,S),process.on(`SIGINT`,C),process.on(`SIGTERM`,C),process.on(`exit`,x),s&&s.addEventListener(`abort`,C)},T=()=>{process.removeListener(`uncaughtExceptionMonitor`,S),process.removeListener(`unhandledRejection`,S),process.removeListener(`SIGINT`,C),process.removeListener(`SIGTERM`,C),process.removeListener(`exit`,x),s&&s.removeEventListener(`abort`,C)},ee=()=>{if(h===void 0)return;l&&n.write(`
`);let e=it(h,y,{hard:!0,trim:!1}).split(`
`);e.length>1&&n.write(_.cursor.up(e.length-1)),n.write(_.cursor.to(0)),n.write(_.erase.down())},te=e=>e.replace(/\.+$/,``),E=e=>{let t=(performance.now()-e)/1e3,n=Math.floor(t/60),r=Math.floor(t%60);return n>0?`[${n}m ${r}s]`:`[${r}s]`},D=(t=``)=>{f=!0,u=fe({output:n}),m=te(t),v=performance.now(),n.write(`${g.default.gray(B)}
`);let r=0,i=0;w(),d=setInterval(()=>{if(l&&m===h)return;ee(),h=m;let t=b(a[r]),o;if(l)o=`${t}  ${m}...`;else if(e===`timer`)o=`${t}  ${m} ${E(v)}`;else{let e=`.`.repeat(Math.floor(i)).slice(0,3);o=`${t}  ${m}${e}`}let s=it(o,y,{hard:!0,trim:!1});n.write(s),r=r+1<a.length?r+1:0,i=i<4?i+.125:0},o)},O=(t=``,r=0)=>{if(!f)return;f=!1,clearInterval(d),ee();let i=r===0?g.default.green(z):r===1?g.default.red(Ae):g.default.red(je);m=t??m,e===`timer`?n.write(`${i}  ${m} ${E(v)}
`):n.write(`${i}  ${m}
`),T(),u()};return{start:D,stop:O,message:(e=``)=>{m=te(e??m)},get isCancelled(){return p}}},_t=e=>{let t=(e,t)=>{let n=e.label??String(e.value);switch(t){case`disabled`:return`${g.default.gray(H)} ${g.default.gray(n)}${e.hint?` ${g.default.dim(`(${e.hint??`disabled`})`)}`:``}`;case`selected`:return`${g.default.dim(n)}`;case`active`:return`${g.default.green(Ne)} ${n}${e.hint?` ${g.default.dim(`(${e.hint})`)}`:``}`;case`cancelled`:return`${g.default.strikethrough(g.default.dim(n))}`;default:return`${g.default.dim(H)} ${g.default.dim(n)}`}};return new Ce({options:e.options,signal:e.signal,input:e.input,output:e.output,initialValue:e.initialValue,render(){let n=`${g.default.gray(B)}
${G(this.state)}  ${e.message}
`;switch(this.state){case`submit`:return`${n}${g.default.gray(B)}  ${t(this.options[this.cursor],`selected`)}`;case`cancel`:return`${n}${g.default.gray(B)}  ${t(this.options[this.cursor],`cancelled`)}
${g.default.gray(B)}`;default:{let r=`${g.default.cyan(B)}  `;return`${n}${r}${X({output:e.output,cursor:this.cursor,options:this.options,maxItems:e.maxItems,columnPadding:r.length,style:(e,n)=>t(e,e.disabled?`disabled`:n?`active`:`inactive`)}).join(`
${r}`)}
${g.default.cyan(V)}
`}}}}).prompt()},vt=`${g.default.gray(B)}  `,Q={message:async(e,{symbol:t=g.default.gray(B)}={})=>{process.stdout.write(`${g.default.gray(B)}
${t}  `);let n=3;for await(let t of e){t=t.replace(/\n/g,`
${vt}`),t.includes(`
`)&&(n=3+m(t.slice(t.lastIndexOf(`
`))).length);let e=m(t).length;n+e<process.stdout.columns?(n+=e,process.stdout.write(t)):(process.stdout.write(`
${vt}${t.trimStart()}`),n=3+m(t.trimStart()).length)}process.stdout.write(`
`)},info:e=>Q.message(e,{symbol:g.default.blue(Ie)}),success:e=>Q.message(e,{symbol:g.default.green(Le)}),step:e=>Q.message(e,{symbol:g.default.green(z)}),warn:e=>Q.message(e,{symbol:g.default.yellow(Re)}),warning:e=>Q.warn(e),error:e=>Q.message(e,{symbol:g.default.red(ze)})},yt=e=>{let t=e.output??process.stdout,n=pe(t),r=g.default.gray(B),i=e.spacing??1,a=e.retainLog===!0,o=!De()&&Oe(t);t.write(`${r}
`),t.write(`${g.default.green(z)}  ${e.title}
`);for(let e=0;e<i;e++)t.write(`${r}
`);let s=[{value:``,full:``}],c=!1,l=e=>{if(s.length===0)return;let r=0;e&&(r+=i+2);for(let e of s){let{value:t,result:i}=e,a=i?.message??t;if(a.length===0)continue;i===void 0&&e.header!==void 0&&e.header!==``&&(a+=`
${e.header}`);let o=a.split(`
`).reduce((e,t)=>t===``?e+1:e+Math.ceil((t.length+3)/n),0);r+=o}r>0&&(r+=1,t.write(_.erase.lines(r)))},u=(e,n,a)=>{let o=a?`${e.full}
${e.value}`:e.value;e.header!==void 0&&e.header!==``&&Z.message(e.header.split(`
`).map(g.default.bold),{output:t,secondarySymbol:r,symbol:r,spacing:0}),Z.message(o.split(`
`).map(g.default.dim),{output:t,secondarySymbol:r,symbol:r,spacing:n??i})},d=()=>{for(let e of s){let{header:t,value:n,full:r}=e;(t===void 0||t.length===0)&&n.length===0||u(e,void 0,a===!0&&r.length>0)}},f=(t,n,r)=>{if(l(!1),(r?.raw!==!0||!c)&&t.value!==``&&(t.value+=`
`),t.value+=n,c=r?.raw===!0,e.limit!==void 0){let n=t.value.split(`
`),r=n.length-e.limit;if(r>0){let e=n.splice(0,r);a&&(t.full+=(t.full===``?``:`
`)+e.join(`
`))}t.value=n.join(`
`)}o&&p()},p=()=>{for(let e of s)e.result?e.result.status===`error`?Z.error(e.result.message,{output:t,secondarySymbol:r,spacing:0}):Z.success(e.result.message,{output:t,secondarySymbol:r,spacing:0}):e.value!==``&&u(e,0)},m=(e,t)=>{l(!1),e.result=t,o&&p()};return{message(e,t){f(s[0],e,t)},group(e){let t={header:e,value:``,full:``};return s.push(t),{message(e,n){f(t,e,n)},error(e){m(t,{status:`error`,message:e})},success(e){m(t,{status:`success`,message:e})}}},error(e,n){l(!0),Z.error(e,{output:t,secondarySymbol:r,spacing:1}),n?.showLog!==!1&&d(),s.splice(1,s.length-1),s[0].value=``,s[0].full=``},success(e,n){l(!0),Z.success(e,{output:t,secondarySymbol:r,spacing:1}),n?.showLog===!0&&d(),s.splice(1,s.length-1),s[0].value=``,s[0].full=``}}},bt=e=>new we({validate:e.validate,placeholder:e.placeholder,defaultValue:e.defaultValue,initialValue:e.initialValue,output:e.output,signal:e.signal,input:e.input,render(){let t=`${g.default.gray(B)}
${G(this.state)}  ${e.message}
`,n=e.placeholder?g.default.inverse(e.placeholder[0])+g.default.dim(e.placeholder.slice(1)):g.default.inverse(g.default.hidden(`_`)),r=this.userInput?this.userInputWithCursor:n,i=this.value??``;switch(this.state){case`error`:{let e=this.error?`  ${g.default.yellow(this.error)}`:``;return`${t.trim()}
${g.default.yellow(B)}  ${r}
${g.default.yellow(V)}${e}
`}case`submit`:{let e=i?`  ${g.default.dim(i)}`:``;return`${t}${g.default.gray(B)}${e}`}case`cancel`:{let e=i?`  ${g.default.strikethrough(g.default.dim(i))}`:``;return`${t}${g.default.gray(B)}${e}${i.trim()?`
${g.default.gray(B)}`:``}`}default:return`${t}${g.default.cyan(B)}  ${r}
${g.default.cyan(V)}
`}}}).prompt();var $=class{constructor(e){this.message=e}},xt=class extends ${path;constructor(e){super(`Couldn't find a language to resolve dependencies for ${e.path}.`),this.path=e.path}},St=class extends ${specifier;fileName;constructor(e){super(`Skipped adding import \`${g.default.cyan(e.specifier)}\` from ${e.fileName}. Reason: Not a valid package name or path alias.`),this.specifier=e.specifier,this.fileName=e.fileName}},Ct=class extends ${specifier;fileName;constructor(e){super(`Skipping ${g.default.cyan(e.specifier)} from ${g.default.bold(e.fileName)}. Reason: Unresolvable syntax. ðŸ’¡ consider manually including the modules expected to be resolved by this import in your registry dependencies.`),this.specifier=e.specifier,this.fileName=e.fileName}},wt=class extends ${itemName;pattern;constructor(e){super(`The glob pattern defined in ${g.default.bold(e.itemName)}: ${g.default.bold(e.pattern)} didn't match any files.`),this.itemName=e.itemName,this.pattern=e.pattern}};function Tt(e){return t=>{e?e(t,e=>Z.warn(e.message)):Z.warn(t.message)}}export{mt as _,$ as a,de as b,gt as c,yt as d,dt as f,ut as g,ft as h,Ct as i,_t as l,Z as m,St as n,Tt as o,pt as p,xt as r,lt as s,wt as t,st as u,bt as v,ct as y};
//# sourceMappingURL=warnings-b5xaLWaR.mjs.map